<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_432) on Thu Nov 28 09:21:08 CET 2024 -->
<title>BlockingMultiArrayQueue</title>
<meta name="date" content="2024-11-28">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BlockingMultiArrayQueue";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/github/MultiArrayQueue/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../com/github/MultiArrayQueue/ConcurrentMultiArrayQueue.html" title="class in com.github.MultiArrayQueue"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/github/MultiArrayQueue/BlockingMultiArrayQueue.html" target="_top">Frames</a></li>
<li><a href="BlockingMultiArrayQueue.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.github.MultiArrayQueue</div>
<h2 title="Class BlockingMultiArrayQueue" class="title">Class BlockingMultiArrayQueue&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.github.MultiArrayQueue.BlockingMultiArrayQueue&lt;T&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of Object held in the Queue</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">BlockingMultiArrayQueue&lt;T&gt;</span>
extends java.lang.Object</pre>
<div class="block">BlockingMultiArrayQueue is a simple, optionally bounded or unbounded, thread-safe (lock-based)
 and (by itself) garbage-free FIFO Queue of Objects for Java.

 <p>The Multi-Array Queue is described in the Paper available at
 <a href="https://MultiArrayQueue.github.io/Paper_MultiArrayQueue.pdf">https://MultiArrayQueue.github.io/Paper_MultiArrayQueue.pdf</a>.
 Measured performance figures are in the Paper as well.

 <p>The Queue is backed by arrays of Objects with exponentially growing sizes, of which all are in use,
 but only the first one (with <code>initialCapacity</code>) is allocated up-front.

 <p>This Queue uses <code>ReentrantLock</code> for serializing of the Enqueue and Dequeue operations.
 This also allows for waiting (if the Queue is empty on Dequeue or full on Enqueue).

 <p>If you require a concurrent variant of this Queue (based on atomic Compare-And-Swap (CAS) instructions),
 use <a href="../../../com/github/MultiArrayQueue/ConcurrentMultiArrayQueue.html" title="class in com.github.MultiArrayQueue"><code>ConcurrentMultiArrayQueue</code></a> instead.

 <p>The Queue can also be used as a pool for re-use of Objects in garbage-free environments, e.g. for recycling
 of allocated memory blocks (of the same size), messages, connections to (the same) database and the like.
 For differing sorts of Objects use different pools (Queues).

 <p>Currently (2024) this code is in its early stage and only for academic interest, not for production use.
 No public JAR is provided: If interested, use the source code file.
 Reviews, tests and comments are welcome.

 <p>GitHub Repository:
 <a href="https://github.com/MultiArrayQueue/MultiArrayQueue">https://github.com/MultiArrayQueue/MultiArrayQueue</a></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../com/github/MultiArrayQueue/BlockingMultiArrayQueue.html#BlockingMultiArrayQueue--">BlockingMultiArrayQueue</a></span>()</code>
<div class="block">Creates a BlockingMultiArrayQueue with default values:
 named "Queue", with initial capacity 30 (size 31 of the first array of Objects), unbounded,
 no fair ordering policy of the lock.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../com/github/MultiArrayQueue/BlockingMultiArrayQueue.html#BlockingMultiArrayQueue-java.lang.String-int-int-boolean-">BlockingMultiArrayQueue</a></span>(java.lang.String&nbsp;name,
                       int&nbsp;initialCapacity,
                       int&nbsp;cntAllowedExtensions,
                       boolean&nbsp;fair)</code>
<div class="block">Creates a BlockingMultiArrayQueue with the given name, given capacity of the first array of Objects,
 a limit of how many times the Queue is allowed to extend and the given decision about fair ordering policy
 of the lock.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../com/github/MultiArrayQueue/BlockingMultiArrayQueue.html" title="type parameter in BlockingMultiArrayQueue">T</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/github/MultiArrayQueue/BlockingMultiArrayQueue.html#dequeue-long-">dequeue</a></span>(long&nbsp;waitNanos)</code>
<div class="block">Lock-based Dequeue of an Object</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/github/MultiArrayQueue/BlockingMultiArrayQueue.html#enqueue-T-long-">enqueue</a></span>(<a href="../../../com/github/MultiArrayQueue/BlockingMultiArrayQueue.html" title="type parameter in BlockingMultiArrayQueue">T</a>&nbsp;object,
       long&nbsp;waitNanos)</code>
<div class="block">Lock-based Enqueue of an Object</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/github/MultiArrayQueue/BlockingMultiArrayQueue.html#getMaximumCapacity--">getMaximumCapacity</a></span>()</code>
<div class="block">Gets the maximum capacity (which the Queue would have if fully extended).</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/github/MultiArrayQueue/BlockingMultiArrayQueue.html#getName--">getName</a></span>()</code>
<div class="block">Gets the name of the Queue.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/github/MultiArrayQueue/BlockingMultiArrayQueue.html#isEmpty--">isEmpty</a></span>()</code>
<div class="block">Lock-based isEmpty method</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="BlockingMultiArrayQueue--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BlockingMultiArrayQueue</h4>
<pre>public&nbsp;BlockingMultiArrayQueue()</pre>
<div class="block">Creates a BlockingMultiArrayQueue with default values:
 named "Queue", with initial capacity 30 (size 31 of the first array of Objects), unbounded,
 no fair ordering policy of the lock.

 <p>This initial capacity allows for up to 26 subsequent (exponentially growing) arrays of Objects
 which would altogether give a maximum (cumulative) capacity of 4.160.749.537 minus 1 Objects.

 <p>The initial memory footprint of this Queue will be (27 + 26 + 31 + 9) 64-bit-words
 + a few Java object headers, also circa 1 kilobyte.</div>
</li>
</ul>
<a name="BlockingMultiArrayQueue-java.lang.String-int-int-boolean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BlockingMultiArrayQueue</h4>
<pre>public&nbsp;BlockingMultiArrayQueue(java.lang.String&nbsp;name,
                               int&nbsp;initialCapacity,
                               int&nbsp;cntAllowedExtensions,
                               boolean&nbsp;fair)
                        throws java.lang.IllegalArgumentException</pre>
<div class="block">Creates a BlockingMultiArrayQueue with the given name, given capacity of the first array of Objects,
 a limit of how many times the Queue is allowed to extend and the given decision about fair ordering policy
 of the lock.

 <p>The input parameters allow for the following three modes:
 <ul>
 <li>(if <code>cntAllowedExtensions == -1</code>) an unbounded Queue (more precisely: bounded only by the
     technical limit that none of the (exponentially growing) arrays of Objects would become bigger
     than the maximum value of an (signed) int (with some reserve, as Java itself does not allow
     to allocate arrays exactly to that limit)
 <li>(if <code>cntAllowedExtensions == 0</code>) bounded Queue with all capacity pre-allocated and final
 <li>(if <code>0 &lt; cntAllowedExtensions</code>) bounded Queue with only a partial capacity pre-allocated
     that is allowed to extend (grow) the given number of times. E.g. if initialCapacity == 100 and
     cntAllowedExtensions == 3, then the Queue can grow three times, also up to four arrays
     with sizes 101, 202, 404 and 808, giving a maximum capacity of 1515 minus 1 Objects.
 </ul></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - name of the Queue</dd>
<dd><code>initialCapacity</code> - capacity of the first array of Objects (its size will be by one bigger)</dd>
<dd><code>cntAllowedExtensions</code> - how many times is the Queue allowed to extend (see above)</dd>
<dd><code>fair</code> - true: the ReentrantLock should use a fair ordering policy</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if initialCapacity is negative</dd>
<dd><code>java.lang.IllegalArgumentException</code> - if initialCapacity is beyond maximum (less reserve)</dd>
<dd><code>java.lang.IllegalArgumentException</code> - if cntAllowedExtensions has invalid value</dd>
<dd><code>java.lang.IllegalArgumentException</code> - if cntAllowedExtensions is unreachable</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getName()</pre>
<div class="block">Gets the name of the Queue.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>name of the Queue</dd>
</dl>
</li>
</ul>
<a name="getMaximumCapacity--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaximumCapacity</h4>
<pre>public&nbsp;long&nbsp;getMaximumCapacity()</pre>
<div class="block">Gets the maximum capacity (which the Queue would have if fully extended).</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>maximum capacity of the Queue</dd>
</dl>
</li>
</ul>
<a name="enqueue-java.lang.Object-long-">
<!--   -->
</a><a name="enqueue-T-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>enqueue</h4>
<pre>public&nbsp;boolean&nbsp;enqueue(<a href="../../../com/github/MultiArrayQueue/BlockingMultiArrayQueue.html" title="type parameter in BlockingMultiArrayQueue">T</a>&nbsp;object,
                       long&nbsp;waitNanos)
                throws java.lang.IllegalArgumentException,
                       java.lang.InterruptedException</pre>
<div class="block">Lock-based Enqueue of an Object</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>object</code> - the Object to enqueue</dd>
<dd><code>waitNanos</code> - 0: return false immediately if the Queue is full,
                 -1: wait without a time limit,
                  positive: maximum nanoseconds to wait</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if enqueued, false if not enqueued because the Queue is full</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if the enqueued Object is null</dd>
<dd><code>java.lang.IllegalArgumentException</code> - if waitNanos has invalid value</dd>
<dd><code>java.lang.InterruptedException</code> - if the current thread is interrupted</dd>
</dl>
</li>
</ul>
<a name="dequeue-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dequeue</h4>
<pre>public&nbsp;<a href="../../../com/github/MultiArrayQueue/BlockingMultiArrayQueue.html" title="type parameter in BlockingMultiArrayQueue">T</a>&nbsp;dequeue(long&nbsp;waitNanos)
          throws java.lang.IllegalArgumentException,
                 java.lang.InterruptedException</pre>
<div class="block">Lock-based Dequeue of an Object</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>waitNanos</code> - 0: return null immediately if the Queue is empty,
                 -1: wait without a time limit,
                  positive: maximum nanoseconds to wait</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the dequeued Object, or null if the Queue is empty</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if waitNanos has invalid value</dd>
<dd><code>java.lang.InterruptedException</code> - if the current thread is interrupted</dd>
</dl>
</li>
</ul>
<a name="isEmpty--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isEmpty</h4>
<pre>public&nbsp;boolean&nbsp;isEmpty()
                throws java.lang.InterruptedException</pre>
<div class="block">Lock-based isEmpty method</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the Queue is empty, false otherwise</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code> - if the current thread is interrupted</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/github/MultiArrayQueue/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../com/github/MultiArrayQueue/ConcurrentMultiArrayQueue.html" title="class in com.github.MultiArrayQueue"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/github/MultiArrayQueue/BlockingMultiArrayQueue.html" target="_top">Frames</a></li>
<li><a href="BlockingMultiArrayQueue.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
