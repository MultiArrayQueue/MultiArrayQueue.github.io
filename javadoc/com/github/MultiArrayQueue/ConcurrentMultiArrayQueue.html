<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_432) on Thu Nov 28 09:21:08 CET 2024 -->
<title>ConcurrentMultiArrayQueue</title>
<meta name="date" content="2024-11-28">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ConcurrentMultiArrayQueue";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/github/MultiArrayQueue/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/github/MultiArrayQueue/BlockingMultiArrayQueue.html" title="class in com.github.MultiArrayQueue"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/github/MultiArrayQueue/ConcurrentMultiArrayQueue.html" target="_top">Frames</a></li>
<li><a href="ConcurrentMultiArrayQueue.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.github.MultiArrayQueue</div>
<h2 title="Class ConcurrentMultiArrayQueue" class="title">Class ConcurrentMultiArrayQueue&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.github.MultiArrayQueue.ConcurrentMultiArrayQueue&lt;T&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of Object held in the Queue</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">ConcurrentMultiArrayQueue&lt;T&gt;</span>
extends java.lang.Object</pre>
<div class="block">ConcurrentMultiArrayQueue is a simple, optionally bounded or unbounded, multiple-writer multiple-reader
 thread-safe and (by itself) garbage-free FIFO Queue of Objects for Java.

 <p>The Multi-Array Queue is described in the Paper available at
 <a href="https://MultiArrayQueue.github.io/Paper_MultiArrayQueue.pdf">https://MultiArrayQueue.github.io/Paper_MultiArrayQueue.pdf</a>.
 Measured performance figures are in the Paper as well.

 <p>The Queue is backed by arrays of Objects with exponentially growing sizes, of which all are in use,
 but only the first one (with <code>initialCapacity</code>) is allocated up-front.

 <p>This Queue uses atomic Compare-And-Swap (CAS) instructions for serializing of the Enqueue and Dequeue operations.

 <p>The Queue does not strictly fulfill the requirement for "lock-free" that "in a bounded number of my steps
 somebody makes progress" because there exist three spots in the program code (A and B tiny and C the extension
 operation which is not so tiny) where preemption of a thread could block other threads for beyond
 "bounded number of my steps". A theoretical termination of a thread in one of these spots
 would leave the Queue in a blocked state.

 <p>If you require a blocking variant of this Queue (based on <code>ReentrantLock</code>) that also allows for waiting
 (if the Queue is empty on Dequeue or full on Enqueue), use <a href="../../../com/github/MultiArrayQueue/BlockingMultiArrayQueue.html" title="class in com.github.MultiArrayQueue"><code>BlockingMultiArrayQueue</code></a> instead.

 <p>The Queue can also be used as a pool for re-use of Objects in garbage-free environments, e.g. for recycling
 of allocated memory blocks (of the same size), messages, connections to (the same) database and the like.
 For differing sorts of Objects use different pools (Queues).

 <p>Currently (2024) this code is in its early stage and only for academic interest, not for production use.
 No public JAR is provided: If interested, use the source code file.
 Reviews, tests and comments are welcome.

 <p>GitHub Repository:
 <a href="https://github.com/MultiArrayQueue/MultiArrayQueue">https://github.com/MultiArrayQueue/MultiArrayQueue</a></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../com/github/MultiArrayQueue/ConcurrentMultiArrayQueue.html#ConcurrentMultiArrayQueue--">ConcurrentMultiArrayQueue</a></span>()</code>
<div class="block">Creates a ConcurrentMultiArrayQueue with default values:
 named "Queue", with initial capacity 30 (size 31 of the first array of Objects), unbounded.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../com/github/MultiArrayQueue/ConcurrentMultiArrayQueue.html#ConcurrentMultiArrayQueue-java.lang.String-int-int-">ConcurrentMultiArrayQueue</a></span>(java.lang.String&nbsp;name,
                         int&nbsp;initialCapacity,
                         int&nbsp;cntAllowedExtensions)</code>
<div class="block">Creates a ConcurrentMultiArrayQueue with the given name, given capacity of the first array of Objects
 and a limit of how many times the Queue is allowed to extend.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../com/github/MultiArrayQueue/ConcurrentMultiArrayQueue.html" title="type parameter in ConcurrentMultiArrayQueue">T</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/github/MultiArrayQueue/ConcurrentMultiArrayQueue.html#dequeue--">dequeue</a></span>()</code>
<div class="block">Concurrent Dequeue of an Object</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/github/MultiArrayQueue/ConcurrentMultiArrayQueue.html#enqueue-T-">enqueue</a></span>(<a href="../../../com/github/MultiArrayQueue/ConcurrentMultiArrayQueue.html" title="type parameter in ConcurrentMultiArrayQueue">T</a>&nbsp;object)</code>
<div class="block">Concurrent Enqueue of an Object</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/github/MultiArrayQueue/ConcurrentMultiArrayQueue.html#getMaximumCapacity--">getMaximumCapacity</a></span>()</code>
<div class="block">Gets the maximum capacity (which the Queue would have if fully extended).</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/github/MultiArrayQueue/ConcurrentMultiArrayQueue.html#getName--">getName</a></span>()</code>
<div class="block">Gets the name of the Queue.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/github/MultiArrayQueue/ConcurrentMultiArrayQueue.html#isEmpty--">isEmpty</a></span>()</code>
<div class="block">Concurrent isEmpty method</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ConcurrentMultiArrayQueue--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ConcurrentMultiArrayQueue</h4>
<pre>public&nbsp;ConcurrentMultiArrayQueue()</pre>
<div class="block">Creates a ConcurrentMultiArrayQueue with default values:
 named "Queue", with initial capacity 30 (size 31 of the first array of Objects), unbounded.

 <p>This initial capacity allows for up to 26 subsequent (exponentially growing) arrays of Objects
 which would altogether give a maximum (cumulative) capacity of 4.160.749.537 minus 1 Objects.

 <p>The initial memory footprint of this Queue will be (27 + 26 + 31 + 6) 64-bit-words
 + 2 AtomicLongs + a few Java object headers, also circa 1 kilobyte.</div>
</li>
</ul>
<a name="ConcurrentMultiArrayQueue-java.lang.String-int-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ConcurrentMultiArrayQueue</h4>
<pre>public&nbsp;ConcurrentMultiArrayQueue(java.lang.String&nbsp;name,
                                 int&nbsp;initialCapacity,
                                 int&nbsp;cntAllowedExtensions)
                          throws java.lang.IllegalArgumentException</pre>
<div class="block">Creates a ConcurrentMultiArrayQueue with the given name, given capacity of the first array of Objects
 and a limit of how many times the Queue is allowed to extend.

 <p>The input parameters allow for the following three modes:
 <ul>
 <li>(if <code>cntAllowedExtensions == -1</code>) an unbounded Queue (more precisely: bounded only by the
     technical limit that none of the (exponentially growing) arrays of Objects would become bigger
     than the maximum value of an (signed) int (with some reserve, as Java itself does not allow
     to allocate arrays exactly to that limit)
 <li>(if <code>cntAllowedExtensions == 0</code>) bounded Queue with all capacity pre-allocated and final
 <li>(if <code>0 &lt; cntAllowedExtensions</code>) bounded Queue with only a partial capacity pre-allocated
     that is allowed to extend (grow) the given number of times. E.g. if initialCapacity == 100 and
     cntAllowedExtensions == 3, then the Queue can grow three times, also up to four arrays
     with sizes 101, 202, 404 and 808, giving a maximum capacity of 1515 minus 1 Objects.
 </ul></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - name of the Queue</dd>
<dd><code>initialCapacity</code> - capacity of the first array of Objects (its size will be by one bigger)</dd>
<dd><code>cntAllowedExtensions</code> - how many times is the Queue allowed to extend (see above)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if initialCapacity is negative</dd>
<dd><code>java.lang.IllegalArgumentException</code> - if initialCapacity is beyond maximum (less reserve)</dd>
<dd><code>java.lang.IllegalArgumentException</code> - if cntAllowedExtensions has invalid value</dd>
<dd><code>java.lang.IllegalArgumentException</code> - if cntAllowedExtensions is unreachable</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getName()</pre>
<div class="block">Gets the name of the Queue.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>name of the Queue</dd>
</dl>
</li>
</ul>
<a name="getMaximumCapacity--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaximumCapacity</h4>
<pre>public&nbsp;long&nbsp;getMaximumCapacity()</pre>
<div class="block">Gets the maximum capacity (which the Queue would have if fully extended).</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>maximum capacity of the Queue</dd>
</dl>
</li>
</ul>
<a name="enqueue-java.lang.Object-">
<!--   -->
</a><a name="enqueue-T-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>enqueue</h4>
<pre>public&nbsp;boolean&nbsp;enqueue(<a href="../../../com/github/MultiArrayQueue/ConcurrentMultiArrayQueue.html" title="type parameter in ConcurrentMultiArrayQueue">T</a>&nbsp;object)
                throws java.lang.IllegalArgumentException</pre>
<div class="block">Concurrent Enqueue of an Object

 <p>This method does not provide waiting if the Queue is full (because waiting is only possible with locks),
 so if needed call this method repeatedly (with <code>Thread.yield()</code> recommended) to implement waiting.

 <p>Read the section Linearizability in the source code for details on Concurrency.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>object</code> - the Object to enqueue</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if enqueued, false if not enqueued because the Queue is/was full</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if the enqueued Object is null</dd>
</dl>
</li>
</ul>
<a name="dequeue--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dequeue</h4>
<pre>public&nbsp;<a href="../../../com/github/MultiArrayQueue/ConcurrentMultiArrayQueue.html" title="type parameter in ConcurrentMultiArrayQueue">T</a>&nbsp;dequeue()</pre>
<div class="block">Concurrent Dequeue of an Object

 <p>This method does not provide waiting if the Queue is empty (because waiting is only possible with locks),
 so if needed call this method repeatedly (with <code>Thread.yield()</code> recommended) to implement waiting.

 <p>Read the section Linearizability in the source code for details on Concurrency.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the dequeued Object, or null if the Queue is/was empty</dd>
</dl>
</li>
</ul>
<a name="isEmpty--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isEmpty</h4>
<pre>public&nbsp;boolean&nbsp;isEmpty()</pre>
<div class="block">Concurrent isEmpty method

 <p>Read the section Linearizability in the source code for details on Concurrency.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the Queue is/was empty, false if the Queue is/was not empty</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/github/MultiArrayQueue/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/github/MultiArrayQueue/BlockingMultiArrayQueue.html" title="class in com.github.MultiArrayQueue"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/github/MultiArrayQueue/ConcurrentMultiArrayQueue.html" target="_top">Frames</a></li>
<li><a href="ConcurrentMultiArrayQueue.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
